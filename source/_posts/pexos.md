---
title: 简述Pexos协议
date: 2020-11-04 14:40:44
comments: true
categories:
- tech
tags:
- pexos
- raft
- distributed-system
---

> 用简单的方式描述 Pexos 协议， 本文来自于对  [xp博客](https://blog.openacid.com/algo/paxos/) 的总结

<!-- more -->

# 分布式和分布式系统

> 一堆机器 = 分布式 , 一堆互相协同的机器 = 分布式系统

paxos的工作, 就是把一堆运行的机器协同起来, 让多个机器成为一个整体系统. 在这个系统中, 每个机器都必须让系统中的状态达成一致, 例如三副本集群如果一个机器上上传了一张图片, 那么另外2台机器上也必须复制这张图片过来, 整个系统才处于一个一致的状态.

分布式系统的一致性问题最终都归结为分布式存储的一致性. 像aws的对象存储可靠性要求是9~13个9. 而这么高的可靠性都是建立在可靠性没那么高的硬件上的.

列一个常规数据:
```
基础设施的可用性:
- 磁盘 = 4% 年损坏率
- 服务器硬件 >= 0.1% 年损坏率
- IDC 丢包率 = 5% ~ 30%
```

几乎所有的分布式存储都必须用某种冗余的方式在廉价硬件的基础上搭建高可靠的存储. 而冗余的基础就是多副本策略, 一份数据存多份. 多副本保证了可靠性, 而副本之间的一致, 就需要paxos这类分布式一致性算法来保证.

甚至单机系统也会采用多副本备份的策略, 例如 纠删码 Erasure Coding 技术，在单机上使用多个硬盘来做冗余，一个例子: RAID。
业界的云盘的存储系统，不论是对象存储，或者块存储，都有使用EC技术。

> 未完待续...